import{E as V,r as a,j as D,A as U,o as r,c as h,b as s,t as d,u as c,h as g,d as f,f as y,a as B,F as C,g as T,i as _}from"./vendor.bfe29a18.js";import{i as u,_ as j}from"./index.b192c9eb.js";const q={style:{display:"flex","flex-grow":"1",overflow:"hidden"}},A={style:{"flex-grow":"1",display:"flex","flex-direction":"column"}},M={class:"headline"},N=_(" ADD | DOC "),L={key:0},$={style:{padding:"6px"}},I={class:"pure-form"},z={for:"show-labels",style:{padding:"6px"}},G=_(" Show labels "),J={for:"show-cluster-shapes",style:{padding:"6px"}},O=_(" Show cluster shapes "),R={for:"show-cluster-labels",style:{padding:"6px"}},H=_(" Show cluster labels "),K={for:"quick-but-ugly",style:{padding:"6px"}},P=_(" Ugly efficient "),Q={key:0,style:{"background-color":"#000","flex-grow":"1",display:"flex"}},W={class:"documents-panel",style:{"min-width":"600px","max-width":"600px",display:"flex","flex-direction":"column","align-items":"stretch","justify-content":"center"}},X={style:{"flex-grow":"1","overflow-y":"auto"}},Y={key:0,class:"card",style:{cursor:"default"}},Z={class:"card-content",style:{"white-space":"pre-wrap"}},ee={class:"pill-box"},se=["onMouseenter"],ae={setup(te){const k=V(),m=a(!0),w=a(!0),b=a(!0),p=a(!1),o=a({}),v=a([]),x=a(!1),i=a((l,e)=>e.split(".").reduce((t,n)=>t==null?void 0:t[n],l)),F=function(l){const e="elastic",t="9pSJ5siACNtVAUwB2mj8";return fetch("http://10.92.0.111:9200/"+l,{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Basic "+U.encode(e+":"+t)}}).then(n=>{if(n.ok)return n.json();console.warn("/!\\ Server returned "+n.status+" : "+n.statusText)})};let E=a(function(l){l&&l._source&&i.value(l._source,u.esEntitiesField)?v.value=i.value(l._source,u.esEntitiesField).map(e=>({label:e,score:1})):v.value=[]}),S=a(function(l){v.value=[{label:l,score:1}]});return D(()=>{let l=k.params.id.replace(/Â·/gi,".");F(u.esIndex+"/_doc/"+l).then(e=>{console.log(e),o.value=e,v.value=(i.value(o.value._source,u.esEntitiesField)||[]).map(t=>({label:t,score:1})),p.value=!0}).catch(e=>{console.warn(e)})}),(l,e)=>(r(),h("main",q,[s("div",A,[s("div",M,[s("h1",null,[N,p.value?(r(),h("span",L,"| "+d(i.value(o.value._source,c(u).esTitleField)),1)):g("",!0)])]),s("div",$,[s("form",I,[s("fieldset",null,[s("label",z,[f(s("input",{type:"checkbox",id:"show-labels","onUpdate:modelValue":e[0]||(e[0]=t=>m.value=t)},null,512),[[y,m.value]]),G]),s("label",J,[f(s("input",{type:"checkbox",id:"show-cluster-shapes","onUpdate:modelValue":e[1]||(e[1]=t=>w.value=t)},null,512),[[y,w.value]]),O]),s("label",R,[f(s("input",{type:"checkbox",id:"show-cluster-labels","onUpdate:modelValue":e[2]||(e[2]=t=>b.value=t)},null,512),[[y,b.value]]),H]),s("label",K,[f(s("input",{type:"checkbox",id:"quick-but-ugly","onUpdate:modelValue":e[3]||(e[3]=t=>x.value=t)},null,512),[[y,x.value]]),P])])])]),p.value?(r(),h("div",Q,[B(j,{highlights:!0,"focused-entities":v.value,"show-labels":m.value,"show-cluster-shapes":w.value,"show-cluster-labels":b.value,"quick-but-ugly":x.value},null,8,["focused-entities","show-labels","show-cluster-shapes","show-cluster-labels","quick-but-ugly"])])):g("",!0)]),s("div",W,[s("div",X,[p.value?(r(),h("div",Y,[s("h2",null,d(i.value(o.value._source,c(u).esTitleField)),1),s("div",Z,d(i.value(o.value._source,c(u).esTextField)),1),s("div",ee,[(r(!0),h(C,null,T(i.value(o.value._source,c(u).esEntitiesField),t=>(r(),h("div",{class:"entity-pill",onMouseenter:n=>c(S)(t),onMouseleave:e[4]||(e[4]=n=>c(E)(o.value))},d(t),41,se))),256))]),s("small",null,[s("em",null,d(i.value(o.value._source,c(u).esSourceField)),1),_(" \xA0\xB7\xA0 "+d(i.value(o.value._source,c(u).esDateField))+" \xA0\xB7\xA0 "+d(o.value._id),1)])])):g("",!0)])])]))}};export{ae as default};
